{"version":3,"sources":["src/lib/objects.js","src/entities/background.js","src/entities/grass.js","src/entities/diamond.js","src/entities/player.js","src/entities/openDoor.js","src/entities/lockedDoor.js","src/game.js","../../../../../usr/local/lib/node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["sprite","layer","scale","pos","solid","area","vec2","frame","width","height","body","jumpForce","maxVel","origin","speed","diamondsCollected","kaboom","global","loadSound","loadSprite","sliceX","sliceY","anims","idle","walk","jump","win","objects","obj","init","canvas","document","querySelector","scene","DIAMOND_COUNT","layers","add","player","i","block","y","x","d","action","readd","on","keyDown","p2","move","flipX","grounded","curAnim","play","keyRelease","stop","keyPress","overlaps","p","destroy","loop","wait","go","winText","text","hitEnter","start","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","id","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","window","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","dep","Array","isArray","length","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"game.e499fc5e.js","sourceRoot":"..","sourcesContent":["export default [\n    'openDoor',\n    'lockedDoor',\n    'diamond',\n    'grass',\n    'BG'\n];","export default () => [sprite('BG'), layer('bg'), scale(3)];","export default () => [sprite('grass'), pos(0, 0), solid()];","export default () => [sprite('diamond'), pos(0, 0), area(vec2(15, 15), vec2(50, 50)), 'diamond'];","export default () => [\n        sprite('player', { frame: 0 }), \n        pos(width() / 2, height() / 2), \n        body({ jumpForce: 640, maxVel: 2400 }),\n        scale(1),\n        area(vec2(-25, -15 ), vec2(25,50)),\n        origin('center'),\n        {\n            speed: 200,\n            diamondsCollected: 0\n        },\n        'player'\n    ];","export default () => [\n    sprite('openDoor'), \n    pos(width() - 100, height() - 144), \n    scale(1, 1.25), \n    'openDoor',\n    area(vec2(20, 0), vec2(40, 65))\n]","export default () => [sprite('lockedDoor'), pos(width() - 100, height() - 144), layer('bg'), scale(1, 1.25)];","kaboom.global();\n\nimport objects from './lib/objects';\nimport background from './entities/background';\nimport grass from './entities/grass';\nimport diamond from './entities/diamond';\nimport createPlayer from './entities/player';\nimport openDoor from './entities/openDoor';\nimport lockedDoor from './entities/lockedDoor';\n\nloadSound('coin', 'coin.ogg');\nloadSound('win', 'achieved.ogg');\n\nloadSprite('player', 'player.png', {\n    sliceX: 4,\n    sliceY: 2,\n    anims: {\n        idle: [0],\n        walk: [2, 3],\n        jump: [1],\n        win: [7]\n    }\n});\n\nfor(let obj of objects) {\n    loadSprite(obj, `${obj}.png`);\n}\n\ninit({\n    width: 640,\n    height: 480,\n    canvas: document.querySelector('#game')\n});\n\nscene('main', () => {\n\n    const DIAMOND_COUNT = width() / 128;\n\n    layers(['bg', 'sprites', 'ui'], 'sprites');\n\n    add(background());\n    const player = add(createPlayer());\n\n    for(let i = 0; i < width() / 64; i++) {\n        let block = add(grass());\n        block.pos.y = height() - 64;\n        block.pos.x = i * 64;\n    }\n\n    for(let i = 0; i < DIAMOND_COUNT; i++) {\n        let d = add(diamond());\n        d.pos.y = height() - 200;\n        d.pos.x = i * 128 + 32;\n    }\n\n    add(lockedDoor());\n\n    player.action(() => {\n        if(player.diamondsCollected === DIAMOND_COUNT) {\n            add(openDoor());\n            readd(player);\n            player.diamondsCollected = 0;\n        }\n    });\n\n\n    player.on('grounded', () => {\n        player.frame = 0;\n    });\n\n     keyDown('a', () => {\n        if(player.pos.x > player.area.p2.x / 2) {\n            player.move(-player.speed, 0);\n            player.flipX(-1);\n            if(player.grounded() && player.curAnim() !== 'walk') {\n                player.play('walk');\n            }\n        }\n    });\n    keyDown('d', () => {\n        if(player.pos.x < width() - player.area.p2.x / 2) {\n            player.flipX(1);\n            player.move(player.speed, 0);\n            if(player.grounded() && player.curAnim() !== 'walk') {\n                player.play('walk');\n            }\n        }\n    });\n    keyRelease(['a', 'd'], () => {\n        if(player.grounded()) {\n            player.play('idle');\n            player.stop();\n        }\n    });\n    keyPress('space', () => {\n        if(player.grounded()) {\n            player.jump();\n            if(player.curAnim() !== 'jump') {\n                player.play('jump');\n                player.stop();\n            }\n        }\n    });\n\n    overlaps('player', 'diamond', (p, d) => {\n        p.diamondsCollected += 1;\n        destroy(d);\n        play('coin', { loop: false, speed: 1.25 });\n    });\n\n    overlaps('player', 'openDoor', (p, d) => {\n        play('win');\n        wait(1.5, () => {\n            go('gameover');\n        });\n    });\n\n});\n\nscene('gameover', () => {\n\n    const winText = add([\n        text('You win!'),\n        pos(0, 0)\n    ]);\n\n    winText.pos.x = width() / 2 - winText.area.p2.x / 2;\n    winText.pos.y = height() / 2;\n\n    const hitEnter = add([\n        text('Press Enter'),\n        pos(0, 0)\n    ]);\n\n    hitEnter.pos.x = width() / 2 - hitEnter.area.p2.x / 2;\n    hitEnter.pos.y = height() / 2 + winText.area.p2.y;\n\n    keyPress('enter', () => {\n        go('main');\n    });\n});\n\nstart('main');","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}